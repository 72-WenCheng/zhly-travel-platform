## 项目总览：智慧旅游生态系统

这是一个“前后端 + 小程序/多端”的完整智慧旅游生态平台，包含：

- **`travel-server`（后端服务）**：基于 Java/Spring Boot 的核心业务服务，提供用户、景点、民宿、文旅项目、AI 助手、优惠券、等级积分、行程规划等接口，以及监控、部署脚本、Nginx 配置等。
- **`travel-admin`（管理后台）**：基于 Vue3 + Vite 的运营管理后台，用于管理景区、民宿、文旅项目、优惠券、系统配置、用户数据等。
- **`travel-uniapp`（C 端应用）**：基于 uni-app 的用户端应用（可发布为小程序、H5 或 App），提供景点/民宿浏览与搜索、智能行程规划、AI 问答、订单、个人中心等功能。
- **`docs`**：面向非技术同学的部署和网络基础知识说明（例如公网 IP、路由器、部署方式等），帮助你把系统真正跑在服务器上。

> 你可以把它理解成“一整套自己的携程 + 飞猪 + 文旅城市平台”，后端是大脑，管理后台是运营控制台，uniapp 是游客用的应用。

---

## 1. 目录结构说明

- **`docs/`**：部署与网络知识的图文说明，适合用来学习“怎么把系统对外开放给别人访问”。
- **`travel-server/`**：Java 后端项目，包含：
  - 接口实现（用户、登录、旅游计划、收藏、消息、优惠券、积分等级体系等）
  - 配置文件（多环境配置、邮件、短信、第三方登录、高德地图 Key 配置等）
  - 监控与部署（Prometheus/Grafana、Docker、Nginx、Shell 脚本等）
- **`travel-admin/`**：管理后台前端工程，Vue3 + Vite + TypeScript，包含：
  - 管理端页面（景点、民宿、文化项目、订单、用户、系统配置、AI 管理等）
  - 通用组件（表格、地图选择器、图片上传、评论组件等）
- **`travel-uniapp/`**：C 端应用前端工程，uni-app，包含：
  - 游客首页、景点/民宿列表与详情、智能行程规划、AI 助手、订单、个人中心等。

---

## 2. 功能模块总览（面向不懂代码的使用者）

从“一个城市/区域的智慧旅游平台”角度看，本系统大致分为：

- **用户与账号体系**
  - 手机号/邮箱/账号登录、注册、忘记密码
  - 第三方登录（如需要时可扩展）
  - 用户等级与积分、优惠券、权益体系
- **内容与资源管理**
  - 景点、民宿、文化项目、文化体验、农产品等资源的录入与管理
  - 每个资源支持文字、图片、地址、标签、评分等信息
- **智能行程规划**
  - 根据用户选择的日期、出行人数、兴趣标签等，自动生成旅游行程
  - 后台有相应的行程数据表和接口
- **AI 智能助手**
  - 问答（例如“帮我推荐三天的亲子游路线”）
  - 生成类功能（例如生成游记文案、分享文案等）
- **订单与预订（可按需扩展）**
  - 基础的订单列表与详情，支持后续接入实际支付与预订逻辑
- **运营与活动**
  - 优惠券发放与使用规则
  - 消息通知（例如站内信、邮件、短信等，根据配置开启）

你可以只把它当成一个“智慧旅游 DEMO 平台”，也可以逐步打磨成真正上线给游客使用的系统。

---

## 3. 三个子项目各自“是给谁用的”？

- **`travel-uniapp`：游客用**
  - 游客打开小程序/H5/App，看到的首页、景点列表、行程规划、个人中心，都在这里。
- **`travel-admin`：运营/管理员用**
  - 比如你是文旅局工作人员、景区运营人员，在这里录入和管理景点、活动、券、用户数据等。
- **`travel-server`：开发和运维用**
  - 里面是接口、数据库、业务逻辑、监控、部署脚本等，普通用户看不到。

---

## 4. 启动与访问（高层级概念）

> 下面是“概念级”的说明，具体命令我会在后续按你的需求一步步写给你，不需要你记命令。

- **后端 `travel-server` 启动后**：对外提供一堆 HTTP 接口（相当于大脑和数据仓库）。
- **管理后台 `travel-admin` 启动后**：在浏览器中访问一个地址（比如 `http://localhost:5173`），登录后台账号进行管理。
- **C 端 `travel-uniapp` 启动后**：可以在浏览器 H5、本地模拟器或打包成小程序来预览游客端效果。

在“正式对外开放”时，一般会：

1. 把 `travel-server` 部署到一台云服务器（或本地有公网 IP 的机器）上。
2. 把 `travel-admin` 和 `travel-uniapp` 构建打包后，放到 Nginx 或其他静态资源服务器中。
3. 配置域名和 HTTPS，让游客和运营人员可以通过浏览器访问。

如果你只是在本地体验学习，可以不用管服务器部署，只要在本机依次启动这几个项目即可。

---

## 5. 我后续会怎么帮你？

因为你现在是以“非专业编程背景”的身份来做这个系统，我会默认：

- 用**尽量少的专业术语**，多用生活类比告诉你“这是干嘛的”；
- 每次你提新需求时，我会：
  1. **先用大白话帮你复述一遍你的需求**，让你确认是不是你想要的；
  2. 如果需求有缺失，我会主动帮你补全选项（比如“要不要加评论”“要不要支持收藏”等），你只要回答“要/不要”即可；
  3. 然后我会在对应子项目里**直接改代码/加功能**，并在这个 `readme.md` 里持续补充说明书。

你不需要会写代码，只要说“我想让游客做到 XX，我想让后台做到 XX”这种自然语言就可以了。

---

## 6. 你可以怎么和我说需求？

直接用你现在这种方式描述就行，例如：

- “我想让游客可以看到附近 5 公里内的景点”
- “我想让后台可以一键给指定用户发优惠券”
- “我想做一个亲子游专题页面，里面有推荐路线和适合小孩的景点”
- “我想把 AI 功能改成更像‘导游聊天’，而不是普通聊天”

我会帮你：

1. 把需求翻译成**产品设计**（页面长什么样、点哪里能用）。
2. 再翻译成**技术实现**（后端要加什么接口、前端要加什么按钮和页面）。
3. 直接在代码里实现，并在本 `readme.md` 中留下简单说明。

---

## 7. 后续维护说明（会持续更新）

### 7.1 农家乐（文旅服务）管理字段说明补充（2025-12-17）

- **对应表**：`culture_service`
- **图片字段**：`images`
  - 在数据库里存的是 **JSON 字符串**（例如：`["https://xx/1.jpg","https://xx/2.jpg"]`）
  - 管理后台在编辑农家乐时，会先把这个字符串 `JSON.parse` 成数组再展示
  - 如果你在数据库里手动修改这个字段，一定要保证它是**合法的 JSON 数组字符串**，否则页面可能报错
- **特色标签字段**：`features`
  - 同样是 JSON 字符串，逻辑和 `images` 一样
- **配套设施字段**：`facilities`
  - 存的是 JSON 数组，元素形如：`[{ "name": "停车场", "icon": "xxx.png" }]`

> 小结：农家乐这几个字段在数据库里看起来是 `varchar/text`，但实际内容必须是 JSON；前端现在已经兼容“字符串 + 数组”两种情况，编辑时不会再因为 `service.images.map is not a function` 报错。

每当我们一起：

- 增加一个新功能
- 调整一个比较大的功能逻辑
- 做一次重要的部署优化

我都会在这里追加简明的更新说明，类似：

- 2025-12-17：初版项目总览文档，梳理 3 个子项目和核心功能。
- 2025-12-17：修复农家乐管理编辑页因图片 JSON 格式导致的加载失败问题，并补充字段格式说明。

这样即使你中途停一段时间，再回来也能很快回忆起“这个系统现在都能干什么”。


